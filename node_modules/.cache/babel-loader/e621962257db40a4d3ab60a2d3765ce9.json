{"ast":null,"code":"import _classCallCheck from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Volumes/Data/React/react-api/src/pages/Users/UserAddPage.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as config from './../../constants/config';\nimport Validator from 'react-forms-validator';\nimport { connect } from 'react-redux';\nimport { actAddUserRequest, actEditUserRequest, actGetUserRequest } from './../../actions/index';\nimport ErrorMessage from './../../components/Users/ErrorMessage';\n\nvar UserAddPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserAddPage, _Component);\n\n  function UserAddPage(props) {\n    var _this;\n\n    _classCallCheck(this, UserAddPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserAddPage).call(this, props));\n    _this.state = {\n      id: '',\n      username: 'test' + Math.floor(Math.random() * 100 + 1),\n      firstname: 'demo',\n      lastname: 'demo',\n      email: 'test' + Math.floor(Math.random() * 100 + 1) + '@gmail.com',\n      address: 'Ha Noi',\n      phone: '0976459551',\n      birthday: '2018-07-22',\n      role_id: '14',\n      gender: config.GENDER_FEMALE,\n      is_active: config.ACTIVED,\n      isFormValidationErrors: true,\n      submitted: false,\n      isValidation: ''\n    }; // this.state = {\n    // \tid: '',\n    // \tusername: '',\n    // \tfirstname: '',\n    // \tlastname: '',\n    // \temail: '',\n    // \taddress: '',\n    // \tphone: '',\n    // \trole_id: '14',\n    // \tgender: config.GENDER_FEMALE,\n    // \tis_active: config.DEACTIVED,\n    // \tisFormValidationErrors : true,\n    // \tsubmitted: false,\n    // \tisValidation: ''\n    // };\n\n    _this.onSave = _this.onSave.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeForm = _this.onChangeForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.isValidationError = _this.isValidationError.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.flag = true;\n    _this.isBlocking = false;\n    return _this;\n  }\n\n  _createClass(UserAddPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var match = this.props.match;\n\n      if (match) {\n        /*\n         * Get id from URL\n         */\n        var id = match.params.id;\n        this.props.getUserId(id);\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextprops) {\n      if (nextprops && nextprops.users.userEdit) {\n        var userEdit = nextprops.users.userEdit; // console.log(typeof userEdit, userEdit)\n\n        this.setState({\n          id: userEdit.id,\n          username: userEdit.username,\n          firstname: userEdit.firstname,\n          lastname: userEdit.lastname,\n          email: userEdit.email,\n          address: userEdit.address,\n          phone: userEdit.phone,\n          role_id: userEdit.role_id,\n          gender: userEdit.gender,\n          is_active: userEdit.is_active\n        });\n      } // console.log(typeof this.state.gender);\n\n\n      if (nextprops && nextprops.users && nextprops.users) {\n        // console.log(nextprops.users);\t\n        var status = nextprops.users.status;\n        this.setState({\n          isValidation: String(status)\n        });\n\n        if (status === true) {\n          var history = this.props.history;\n          history.goBack();\n        } else {\n          if (nextprops.users && nextprops.users.preUser) {\n            var preUser = nextprops.users.preUser;\n            this.setState({\n              id: preUser.id,\n              username: preUser.username,\n              firstname: preUser.firstname,\n              lastname: preUser.lastname,\n              email: preUser.email,\n              address: preUser.address,\n              phone: preUser.phone,\n              role_id: preUser.role_id,\n              gender: preUser.gender,\n              is_active: preUser.is_active\n            });\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isValidationError\",\n    value: function isValidationError(flag) {\n      this.setState({\n        isFormValidationErrors: flag\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log('role_id: '+this.state.role_id);\n      // const { isBlocking } = this.state;\n      // const { gender } = this.state;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-6 col-sm-6 col-xs-6 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Form title\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, \"UserName\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.username,\n        onChange: this.onChangeForm,\n        name: \"username\",\n        placeholder: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }), React.createElement(Validator, {\n        isValidationError: this.isValidationError,\n        isFormSubmitted: this.state.submitted,\n        reference: {\n          username: this.state.username\n        },\n        validationRules: {\n          required: true,\n          minLength: 5,\n          maxLength: 10\n        },\n        validationMessages: {\n          required: \"This field is required\",\n          minLength: \"Not a valid Min length: 5 \",\n          maxLength: \"Not a valid Max length: 10 \"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary margin-right-10\",\n        onClick: this.onSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Save\"), React.createElement(Link, {\n        to: \"/users\",\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Back\")), React.createElement(\"div\", {\n        className: \"col-xs-6 col-sm-6 col-md-6 col-lg-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })))));\n    } // end render\n\n  }]);\n\n  return UserAddPage;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userEdit: state.userEdit,\n    users: state.users\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    onAddUser: function onAddUser(user) {\n      dispatch(actAddUserRequest(user));\n    },\n    onEditUser: function onEditUser(user, id) {\n      dispatch(actEditUserRequest(user, id));\n    },\n    getUserId: function getUserId(id) {\n      dispatch(actGetUserRequest(id));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAddPage);","map":{"version":3,"sources":["/Volumes/Data/React/react-api/src/pages/Users/UserAddPage.js"],"names":["React","Component","Link","config","Validator","connect","actAddUserRequest","actEditUserRequest","actGetUserRequest","ErrorMessage","UserAddPage","props","state","id","username","Math","floor","random","firstname","lastname","email","address","phone","birthday","role_id","gender","GENDER_FEMALE","is_active","ACTIVED","isFormValidationErrors","submitted","isValidation","onSave","bind","onChangeForm","isValidationError","flag","isBlocking","match","params","getUserId","nextprops","users","userEdit","setState","status","String","history","goBack","preUser","required","minLength","maxLength","mapStateToProps","mapDispatchToProps","dispatch","onAddUser","user","onEditUser"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport * as config from './../../constants/config';\nimport Validator from 'react-forms-validator';\nimport { connect } from 'react-redux';\nimport {actAddUserRequest, actEditUserRequest, actGetUserRequest} from './../../actions/index';\nimport ErrorMessage from './../../components/Users/ErrorMessage';\n\nclass UserAddPage extends Component {\n    constructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: '',\n\t\t\tusername: 'test'+Math.floor((Math.random() * 100) + 1),\n\t\t\tfirstname: 'demo',\n\t\t\tlastname: 'demo',\n\t\t\temail: 'test'+Math.floor((Math.random() * 100) + 1)+'@gmail.com',\n\t\t\taddress: 'Ha Noi',\n\t\t\tphone: '0976459551',\n\t\t\tbirthday: '2018-07-22',\n\t\t\trole_id: '14',\n\t\t\tgender: config.GENDER_FEMALE,\n\t\t\tis_active: config.ACTIVED,\n\t\t\tisFormValidationErrors : true,\n\t\t\tsubmitted: false,\n\t\t\tisValidation: ''\n\t\t};\n\t\t// this.state = {\n\t\t// \tid: '',\n\t\t// \tusername: '',\n\t\t// \tfirstname: '',\n\t\t// \tlastname: '',\n\t\t// \temail: '',\n\t\t// \taddress: '',\n\t\t// \tphone: '',\n\t\t// \trole_id: '14',\n\t\t// \tgender: config.GENDER_FEMALE,\n\t\t// \tis_active: config.DEACTIVED,\n\t\t// \tisFormValidationErrors : true,\n\t\t// \tsubmitted: false,\n\t\t// \tisValidation: ''\n\t\t// };\n\t\tthis.onSave = this.onSave.bind(this);\n\t\tthis.onChangeForm = this.onChangeForm.bind(this);\n\t\tthis.isValidationError = this.isValidationError.bind(this);\n\t\tthis.flag = true;\n\t\tthis.isBlocking = false;\n\t}\n\t\n\tcomponentDidMount(){\n\t\tvar {match} = this.props;\n\t\tif(match) {\n\t\t\t/*\n\t\t\t * Get id from URL\n\t\t\t */ \n\t\t\tvar id = match.params.id;\n\t\t\tthis.props.getUserId(id);\n\t\t}\n\t}\n\n\tcomponentWillReceiveProps(nextprops){\n\t\tif(nextprops && nextprops.users.userEdit){\n\t\t\tvar {userEdit} = nextprops.users;\n\t\t\t\n\t\t\t// console.log(typeof userEdit, userEdit)\n\t\t\tthis.setState({\n\t\t\t\tid: userEdit.id,\n\t\t\t\tusername: userEdit.username,\n\t\t\t\tfirstname: userEdit.firstname,\n\t\t\t\tlastname: userEdit.lastname,\n\t\t\t\temail: userEdit.email,\n\t\t\t\taddress: userEdit.address,\n\t\t\t\tphone: userEdit.phone,\n\t\t\t\trole_id: userEdit.role_id,\n\t\t\t\tgender: userEdit.gender,\n\t\t\t\tis_active: userEdit.is_active\n\t\t\t});\n\t\t}\n\t\t// console.log(typeof this.state.gender);\n\t\tif(nextprops && nextprops.users && nextprops.users){\n\t\t\t// console.log(nextprops.users);\t\n\t\t\tvar {status} = nextprops.users;\n\t\t\tthis.setState({isValidation: String(status)});\n\t\t\tif(status === true){\n\t\t\t\tvar {history} = this.props;\n\t\t\t\thistory.goBack();\n\t\t\t} else {\n\t\t\t\tif(nextprops.users && nextprops.users.preUser){\n\t\t\t\t\tvar preUser = nextprops.users.preUser;\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tid: preUser.id,\tusername: preUser.username,\tfirstname: preUser.firstname,\tlastname: preUser.lastname,\temail: preUser.email,\taddress: preUser.address,\tphone: preUser.phone,\trole_id: preUser.role_id,\tgender: preUser.gender,\tis_active: preUser.is_active\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t}\n\t\n\tisValidationError(flag){\n\t\tthis.setState({isFormValidationErrors:flag});\n   \t}\n\n\t\n\trender() {\n\n\t\t// console.log('role_id: '+this.state.role_id);\n\t\t// const { isBlocking } = this.state;\n\t\t// const { gender } = this.state;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"col-lg-6 col-sm-6 col-xs-6 col-md-6\">\n\n\t\n\t\t\t\t\t<form noValidate  >\n\t\t\t\t\t\t<legend>Form title</legend>\n\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<label>UserName</label>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\tvalue={this.state.username} \n\t\t\t\t\t\t\t\tonChange={this.onChangeForm} \n\t\t\t\t\t\t\t\tname=\"username\" \n\t\t\t\t\t\t\t\tplaceholder=\"username\"/>\n\t\t\t\t\t\t\t<Validator \n                                isValidationError={this.isValidationError}\n                                isFormSubmitted={this.state.submitted} \n                                reference={{username : this.state.username}}\n                                validationRules={{required:true, minLength: 5,maxLength:10}} \n                                validationMessages={{ required: \"This field is required\", minLength: \"Not a valid Min length: 5 \",maxLength: \"Not a valid Max length: 10 \"}}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/* <div className=\"form-group\">\n\t\t\t\t\t\t\t<div className=\"Radio\">\n\t\t\t\t\t\t\t\t<label>\tGender </label>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<span className=\"gender-male margin-right-10\">\n\t\t\t\t\t\t\t\t\t<input type=\"radio\" \n\t\t\t\t\t\t\t\t\t\tname=\"gender\" \n\t\t\t\t\t\t\t\t\t\tvalue=\"0\"\n\t\t\t\t\t\t\t\t\t\tchecked={gender === config.GENDER_MALE } \n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm} /> Male\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<input type=\"radio\"\n\t\t\t\t\t\t\t\t\tname=\"gender\"\n\t\t\t\t\t\t\t\t\tvalue=\"1\" \n\t\t\t\t\t\t\t\t\tchecked={gender === config.GENDER_FEMALE } \n\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm} /> Female\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary margin-right-10\" onClick={this.onSave}>Save</button>\n\n\t\t\t\t\t\t\t<Link to=\"/users\" className=\"btn btn-success\">\n\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"col-xs-6 col-sm-6 col-md-6 col-lg-6\">\n\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</form>\n\n\t\t\t\t\t{/* <Prompt\n\t\t\t\t\t\twhen={isBlocking}\n\t\t\t\t\t\tmessage={location => `Are you sure you want to go to ${location.pathname}`\t}\n\t\t\t\t\t/> */}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t} // end render\n\t\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tuserEdit: state.userEdit,\n\t\tusers: state.users,\n\t}\n}\n\nconst mapDispatchToProps = (dispatch, props) => {\n\treturn {\n\t\tonAddUser : (user) => {\n\t\t\tdispatch(actAddUserRequest(user));\n\t\t}, \n\t\tonEditUser : (user, id) => {\n\t\t\tdispatch(actEditUserRequest(user, id));\n\t\t},\n\t\tgetUserId : (id) => {\n\t\t\tdispatch(actGetUserRequest(id));\n\t\t}\n\t}\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserAddPage);"]},"metadata":{},"sourceType":"module"}