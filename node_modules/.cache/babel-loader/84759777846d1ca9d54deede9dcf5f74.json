{"ast":null,"code":"import _defineProperty from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Data/React/react-api/src/pages/Products/ProductActionPage.js\";\nimport React, { Component } from 'react';\nimport { CSSTransitionGroup } from 'react-transition-group';\nimport { Link } from 'react-router-dom';\nimport * as config from './../../constants/config';\nimport callApi from './../../utils/apiCaller';\nimport Cleave from 'cleave.js/react';\n\nvar ProductActionPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProductActionPage, _Component);\n\n  function ProductActionPage(props) {\n    var _this;\n\n    _classCallCheck(this, ProductActionPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductActionPage).call(this, props));\n\n    _this.onChangeForm = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.priceVal = function (price) {\n      return parseFloat(price.replace(/[^0-9-.]/g, ''));\n    };\n\n    _this.onSave = function (event) {\n      event.preventDefault();\n      var history = _this.props.history;\n      var _this$state = _this.state,\n          id = _this$state.id,\n          sku = _this$state.sku,\n          title = _this$state.title,\n          price = _this$state.price,\n          quantity = _this$state.quantity,\n          unit = _this$state.unit,\n          is_publish = _this$state.is_publish,\n          category_id = _this$state.category_id,\n          currency = _this$state.currency,\n          note = _this$state.note;\n      var data = {\n        sku: sku,\n        title: title,\n        price: _this.priceVal(price),\n        quantity: quantity,\n        category_id: category_id,\n        currency: currency,\n        note: note,\n        unit: unit,\n        is_publish: is_publish ? true : false\n      };\n\n      if (id) {\n        //update\n        callApi('PUT', config.PRODUCT_URL + id, data).then(function (res) {\n          history.push(\"/products\");\n        });\n      } else {\n        //create\n        callApi('POST', config.PRODUCT_URL, data).then(function (res) {\n          //C1 // history.push(\"/products-list\");\n          // console.log(res);\n          // history.push(\"/products\");\n          //C2: redirect \n          history.goBack();\n        });\n      }\n    };\n\n    _this.showCategory = function () {\n      var res = _this.state.categories;\n      console.log(res);\n      var options = [];\n      var categories = [{\n        value: '1',\n        label: 'Grapefruit'\n      }, {\n        value: '2',\n        label: 'Lime'\n      }, {\n        value: '3',\n        label: 'Coconut'\n      }, {\n        value: '4',\n        label: 'Mango'\n      }];\n      categories.forEach(function (data) {\n        return options.push(React.createElement(\"option\", {\n          key: data.value,\n          value: data.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, data.label));\n      });\n      return options;\n    };\n\n    _this.state = {\n      categories: '',\n      id: '',\n      sku: '',\n      title: '',\n      price: '',\n      currency: '',\n      category_id: '',\n      unit: '',\n      quantity: 0,\n      is_publish: 1,\n      note: ''\n    };\n    return _this;\n  }\n\n  _createClass(ProductActionPage, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      callApi('GET', config.CATEGORY_URL, null).then(function (res) {\n        _this2.setState({\n          categories: res.data.data\n        });\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var match = this.props.match;\n\n      if (match) {\n        var id = match.params.id;\n        callApi('GET', config.PRODUCT_URL + id, null).then(function (res) {\n          var data = res.data.data;\n\n          _this3.setState({\n            id: data.id ? data.id : '',\n            sku: data.sku ? data.sku : '',\n            title: data.title ? data.title : '',\n            price: data.price ? data.price : '',\n            quantity: data.quantity ? data.quantity : '',\n            unit: data.unit ? data.unit : '',\n            currency: data.currency ? data.currency : '',\n            category_id: data.category_id ? data.category_id : '',\n            note: data.note ? data.note : '',\n            is_publish: data.is_publish ? data.is_publish : ''\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(CSSTransitionGroup, {\n        transitionName: \"worksTransition\",\n        transitionAppear: true,\n        transitionAppearTimeout: 500,\n        transitionEnter: false,\n        transitionLeave: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-3 col-sm-3 col-xs-3 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-lg-6 col-sm-6 col-xs-6 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSave,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"legend\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Form title\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"sku\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.sku,\n        onChange: this.onChangeForm,\n        name: \"sku\",\n        placeholder: \"sku\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"title\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.title,\n        onChange: this.onChangeForm,\n        name: \"title\",\n        placeholder: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Price\"), React.createElement(Cleave, {\n        className: \"input-numeral form-control\",\n        placeholder: \"Enter numeral\",\n        name: \"price\",\n        value: this.state.price,\n        options: {\n          numeral: true,\n          numeralThousandsGroupStyle: 'thousand'\n        },\n        onChange: this.onChangeForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"quantity\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.quantity,\n        onChange: this.onChangeForm,\n        name: \"quantity\",\n        placeholder: \"quantity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, \"unit\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.unit,\n        onChange: this.onChangeForm,\n        name: \"unit\",\n        placeholder: \"unit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"currency\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"currency\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        name: \"currency\",\n        value: this.state.currency,\n        onChange: this.onChangeForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: config.CURRENCY_VND,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, config.CURRENCY_VND), React.createElement(\"option\", {\n        value: config.CURRENCY_USD,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, config.CURRENCY_USD)))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"category_id\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"category_id\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        name: \"category_id\",\n        value: this.state.category_id,\n        onChange: this.onChangeForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, this.showCategory()))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Publish\"), React.createElement(\"div\", {\n        className: \"checkbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: this.state.is_publish,\n        checked: this.state.is_publish,\n        onChange: this.onChangeForm,\n        name: \"is_publish\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }), \"Publish\"))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"note\"), React.createElement(\"textarea\", {\n        name: \"note\",\n        id: \"input\",\n        onChange: this.onChangeForm,\n        value: this.state.note,\n        className: \"form-control\",\n        rows: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, this.state.note)), React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary margin-right-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Save\"), React.createElement(Link, {\n        to: \"/products\",\n        className: \"btn btn-success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Back\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }))));\n    } // end render\n\n  }]);\n\n  return ProductActionPage;\n}(Component);\n\nexport default ProductActionPage;","map":{"version":3,"sources":["/Volumes/Data/React/react-api/src/pages/Products/ProductActionPage.js"],"names":["React","Component","CSSTransitionGroup","Link","config","callApi","Cleave","ProductActionPage","props","onChangeForm","event","target","name","value","type","checked","setState","priceVal","price","parseFloat","replace","onSave","preventDefault","history","state","id","sku","title","quantity","unit","is_publish","category_id","currency","note","data","PRODUCT_URL","then","res","push","goBack","showCategory","categories","console","log","options","label","forEach","CATEGORY_URL","match","params","numeral","numeralThousandsGroupStyle","CURRENCY_VND","CURRENCY_USD"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { CSSTransitionGroup } from 'react-transition-group';\nimport { Link } from 'react-router-dom';\nimport * as config from './../../constants/config';\nimport callApi from './../../utils/apiCaller';\nimport Cleave from 'cleave.js/react';\n\nclass ProductActionPage extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcategories: '',\n\t\t\tid: '',\n\t\t\tsku: '',\n\t\t\ttitle: '',\n\t\t\tprice: '',\n\t\t\tcurrency: '',\n\t\t\tcategory_id: '',\n\t\t\tunit: '',\n\t\t\tquantity: 0,\n\t\t\tis_publish: 1,\n\t\t\tnote: ''\n\t\t};\n\t}\n\n\tcomponentWillMount(){\n\t\tcallApi('GET', config.CATEGORY_URL, null).then(res => {\n\t\t\tthis.setState({\n\t\t\t\tcategories: res.data.data\n\t\t\t});\n\t\t});\n\t}\n\n\n\tcomponentDidMount(){\n\t\tvar {match} = this.props;\n\t\tif(match) {\n\t\t\tvar id = match.params.id;\n\t\t\tcallApi('GET', config.PRODUCT_URL+id, null).then(res => {\n\t\t\t\tvar data = res.data.data;\n\t\t\t\tthis.setState({\n\t\t\t\t\tid: data.id ? data.id : '',\n\t\t\t\t\tsku: data.sku ? data.sku : '',\n\t\t\t\t\ttitle: data.title ? data.title : '',\n\t\t\t\t\tprice: data.price ? data.price : '',\n\t\t\t\t\tquantity: data.quantity ? data.quantity : '',\n\t\t\t\t\tunit: data.unit ? data.unit : '',\n\t\t\t\t\tcurrency: data.currency ? data.currency : '',\n\t\t\t\t\tcategory_id: data.category_id ? data.category_id : '',\n\t\t\t\t\tnote: data.note ? data.note : '',\n\t\t\t\t\tis_publish: data.is_publish? data.is_publish : ''\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tonChangeForm = (event) => {\n\t\tvar target = event.target;\n\t\tvar name = target.name;\n\t\tvar value = target.type === 'checkbox'? target.checked:target.value;\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t}\n\n\tpriceVal = (price) => {\n\t\treturn parseFloat(price.replace(/[^0-9-.]/g, ''));\n\t};\n\n\tonSave = (event) => {\n\t\tevent.preventDefault();\n\t\tvar {history} = this.props;\n\t\tvar {id, sku, title, price, quantity, unit, is_publish, category_id,currency, note} = this.state;\n\t\tvar data = {sku: sku, title: title, price: this.priceVal(price), quantity: quantity,  category_id: category_id, currency: currency, note: note, unit: unit, is_publish: is_publish ? true : false };\n\t\tif(id) { //update\n\t\t\tcallApi('PUT', config.PRODUCT_URL + id, data).then( res => {\n\t\t\t\thistory.push(\"/products\");\n\t\t\t});\n\t\t} else { //create\n\t\t\tcallApi('POST', config.PRODUCT_URL, data ).then( res => {\n\t\t\t\t//C1 // history.push(\"/products-list\");\n\t\t\t\t// console.log(res);\n\t\t\t\t// history.push(\"/products\");\n\t\t\t\t//C2: redirect \n\t\t\t\thistory.goBack();\n\t\t\t});\n\t\t}\n\t}\n\n\trender() {\n\t\t\n\t\treturn (\n\t\t\t<CSSTransitionGroup transitionName=\"worksTransition\" transitionAppear={true} transitionAppearTimeout={500} transitionEnter={false} transitionLeave={false}>\n\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"col-lg-3 col-sm-3 col-xs-3 col-md-3\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"col-lg-6 col-sm-6 col-xs-6 col-md-6\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<form onSubmit={this.onSave}>\n\t\t\t\t\t\t\t<legend>Form title</legend>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>sku</label>\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\tvalue={this.state.sku} \n\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm} \n\t\t\t\t\t\t\t\t\tname=\"sku\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"sku\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>title</label>\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\tvalue={this.state.title} \n\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm} \n\t\t\t\t\t\t\t\t\tname=\"title\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"title\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Price</label>\n\t\t\t\t\t\t\t\t<Cleave className=\"input-numeral form-control\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter numeral\" \n\t\t\t\t\t\t\t\t\tname=\"price\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.price} \n\t\t\t\t\t\t\t\t\toptions={{numeral: true, numeralThousandsGroupStyle: 'thousand'}}\n                        \t\t\tonChange={this.onChangeForm}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>quantity</label>\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\tvalue={this.state.quantity} \n\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm} \n\t\t\t\t\t\t\t\t\tname=\"quantity\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"quantity\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>unit</label>\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\tvalue={this.state.unit} \n\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm} \n\t\t\t\t\t\t\t\t\tname=\"unit\" \n\t\t\t\t\t\t\t\t\tplaceholder=\"unit\"/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<div className=\"currency\">\n\t\t\t\t\t\t\t\t\t<label>currency</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\t\t\tname=\"currency\"\n\t\t\t\t\t\t\t\t\t\tvalue={this.state.currency} \n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value={config.CURRENCY_VND}>{config.CURRENCY_VND}</option>\n\t\t\t\t\t\t\t\t\t\t<option value={config.CURRENCY_USD}>{config.CURRENCY_USD}</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<div className=\"category_id\">\n\t\t\t\t\t\t\t\t\t<label>category_id</label>\n\t\t\t\t\t\t\t\t\t<select \n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\t\tname=\"category_id\" \n\t\t\t\t\t\t\t\t\t\tvalue={this.state.category_id} \n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{this.showCategory()}\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>Publish</label>\n\t\t\t\t\t\t\t\t<div className=\"checkbox\">\n\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\" \n\t\t\t\t\t\t\t\t\t\t\tvalue={this.state.is_publish} \n\t\t\t\t\t\t\t\t\t\t\tchecked={this.state.is_publish} \n\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeForm} \n\t\t\t\t\t\t\t\t\t\t\tname=\"is_publish\"/>\n\t\t\t\t\t\t\t\t\t\tPublish\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t<label>note</label>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<textarea name=\"note\" id=\"input\" onChange={this.onChangeForm} value={this.state.note}  className=\"form-control\" rows=\"5\">\n\t\t\t\t\t\t\t\t\t{this.state.note} \n\t\t\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn btn-primary margin-right-10\">Save</button>\n\t\t\t\t\t\t\t<Link to=\"/products\" className=\"btn btn-success\">\n\t\t\t\t\t\t\t\t\tBack\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t</CSSTransitionGroup>\n\t\t);\n\t} // end render\n\n\tshowCategory = () => {\n\t\tconst res = this.state.categories;\n\t\tconsole.log(res);\n\n\n\t\tconst options = [];\n\t\tconst categories = [\n\t\t\t{ value: '1', label: 'Grapefruit' },\n\t\t\t{ value: '2', label: 'Lime' },\n\t\t\t{ value: '3', label: 'Coconut' },\n\t\t\t{ value: '4', label: 'Mango' }\n\t\t];\n\t\t\n\t\tcategories.forEach(data => options.push(\n\t\t\t<option key={data.value} value={data.value}>{data.label}</option>\n\t\t));\n\t\t\n\t\treturn options;\n\t}\n\n\t\n}\n\nexport default ProductActionPage;\n"]},"metadata":{},"sourceType":"module"}