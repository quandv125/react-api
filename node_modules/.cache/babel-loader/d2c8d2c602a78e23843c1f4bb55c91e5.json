{"ast":null,"code":"import _defineProperty from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Data/React/react-api/src/pages/Invoice/InvoiceDetails.js\";\nimport React, { Component } from 'react';\nimport * as config from '../../constants/config';\nimport moment from 'moment';\nimport Button from '@material-ui/core/Button';\nimport Modal from 'react-responsive-modal';\n\nvar InvoiceDetails =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(InvoiceDetails, _Component);\n\n  function InvoiceDetails(props) {\n    var _this;\n\n    _classCallCheck(this, InvoiceDetails);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InvoiceDetails).call(this, props));\n\n    _this.onCloseModal = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.openModal = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.onChangeForm = function (event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.onhandleNoteCustomer = function (id) {\n      var note = _this.state.note;\n      alert(id + \" | \" + note);\n    };\n\n    _this.format_money = function (amount) {\n      var decimalCount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var decimal = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \".\";\n      var thousands = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \",\";\n\n      try {\n        decimalCount = Math.abs(decimalCount);\n        decimalCount = isNaN(decimalCount) ? 2 : decimalCount;\n        var negativeSign = amount < 0 ? \"-\" : \"\";\n        var i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();\n        var j = i.length > 3 ? i.length % 3 : 0;\n        return negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : \"\");\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    _this.todayNow = function () {\n      var today = new Date();\n      var dd = today.getDate();\n      var mm = today.getMonth() + 1; //January is 0!\n\n      var yyyy = today.getFullYear();\n\n      if (dd < 10) {\n        dd = '0' + dd;\n      }\n\n      if (mm < 10) {\n        mm = '0' + mm;\n      }\n\n      var now = dd + ' tháng ' + mm + ' năm ' + yyyy;\n      return now;\n    };\n\n    _this.state = {\n      note: _this.props.order.note,\n      open: false\n    };\n    return _this;\n  }\n\n  _createClass(InvoiceDetails, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var order = this.props.order;\n      return React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row mb-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"text-center margin-top20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"  \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \" Phi\\u1EBFu thu \"), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"card-header text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Ng\\xE0y: \", this.todayNow(), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Li\\xEAn 2 giao cho kh\\xE1ch h\\xE0ng \"), \" \")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"T\\xEAn kh\\xE1ch h\\xE0ng: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, order.customer.firstname + ' ' + order.customer.lastname, \" \")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"\\u0110i\\u1EC7n tho\\u1EA1i: \", order.customer.phone), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"\\u0110\\u1ECBa ch\\u1EC9: \", order.customer.address), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Di\\u1EC5n gi\\u1EA3i: \", this.state.note, React.createElement(Button, {\n        type: \"submit\",\n        className: \"btn btn-primary btn-cons-small margin-left20\",\n        variant: \"fab\",\n        color: \"secondary\",\n        size: \"small\",\n        onClick: function onClick() {\n          return _this2.openModal(order.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"create\")))), React.createElement(\"div\", {\n        className: \"col-sm-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"M\\xE3 \\u0111\\u01A1n: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, order.transaction_id)), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Th\\xF4ng tin:  \", order.customer.gender === config.GENDER_MALE ? 'Nữ' : 'Nam', \"  \", order.customer.birthday ? \"- \" + moment(order.customer.birthday).format('DD/MM/YYYY ') : ''))), React.createElement(\"div\", {\n        className: \"table-responsive-sm margin-top20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"STT\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"D\\u1ECBch v\\u1EE5\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"S\\u1ED1 l\\u01B0\\u1EE3ng\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"\\u0110\\u01A1n gi\\xE1\"), React.createElement(\"th\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, \"Th\\xE0nh ti\\u1EC1n\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.showData(order.order_detail), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"4\",\n        className: \"text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"C\\u1ED9ng\"), React.createElement(\"td\", {\n        className: \"text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, this.format_money(order.total))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"5\",\n        className: \"text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \" T\\u1EC9 l\\u1EC7 CK \"), React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \" 100% s\\u1ED1 ti\\u1EC1n chi\\u1EBFt kh\\u1EA5u \"), React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, \"  \"))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"5\",\n        className: \"text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"  \"), React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \" C\\u1ED9ng ti\\u1EC1n h\\xE0ng (\\u0110\\xE3 tr\\u1EEB CK) \"), React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"  \"))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"5\",\n        className: \"text-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"  \"), React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \" T\\u1ED5ng ti\\u1EC1n thanh to\\xE1n \"), React.createElement(\"div\", {\n        className: \"col-md-4 col-sm-4 col-xs-4 text-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"  \")))))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"S\\u1ED1 ti\\u1EC1n vi\\u1EBFt b\\u1EB1ng ch\\u1EEF: ..................................................................................................................................................................................................................\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-4 col-sm-4 col-xs-4 col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"NG\\u01AF\\u1EDCI N\\u1ED8P TI\\u1EC0N\")), React.createElement(\"div\", {\n        className: \"col-lg-4 col-sm-4 col-xs-4 col-md-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"NG\\u01AF\\u1EDCI KI\\u1EC2M SO\\xC1T\")), React.createElement(\"div\", {\n        className: \"col-lg-4 col-sm-4 col-xs-4 col-md-4 text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Ng\\xE0y ..... th\\xE1ng ..... n\\u0103m .....\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"NG\\u01AF\\u1EDCI THU TI\\u1EC0N\"))), React.createElement(Modal, {\n        open: this.state.open,\n        onClose: this.onCloseModal,\n        center: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"Di\\u1EC5n gi\\u1EA3i\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.note,\n        onChange: this.onChangeForm,\n        name: \"note\",\n        placeholder: \"Di\\u1EC5n gi\\u1EA3i\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: \"btn btn-primary float-right\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: function onClick() {\n          _this2.onhandleNoteCustomer(order.id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"L\\u01B0u\"))));\n    }\n  }, {\n    key: \"showData\",\n    value: function showData(order_detail) {\n      var _this3 = this;\n\n      var result = null;\n\n      if (order_detail && typeof order_detail !== 'undefined' && order_detail.length > 0) {\n        result = order_detail.map(function (item, index) {\n          return React.createElement(\"tr\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 193\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194\n            },\n            __self: this\n          }, index + 1), React.createElement(\"td\", {\n            className: \"text-left\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 195\n            },\n            __self: this\n          }, item.product_title), React.createElement(\"td\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 196\n            },\n            __self: this\n          }, item.quantity), React.createElement(\"td\", {\n            className: \"text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197\n            },\n            __self: this\n          }, _this3.format_money(item.product_price)), React.createElement(\"td\", {\n            className: \"text-right\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }, _this3.format_money(item.totalPriceQuantity)));\n        });\n      }\n\n      return result;\n    }\n  }]);\n\n  return InvoiceDetails;\n}(Component);\n\nexport default InvoiceDetails;","map":{"version":3,"sources":["/Volumes/Data/React/react-api/src/pages/Invoice/InvoiceDetails.js"],"names":["React","Component","config","moment","Button","Modal","InvoiceDetails","props","onCloseModal","setState","open","openModal","onChangeForm","event","target","name","value","type","checked","onhandleNoteCustomer","id","note","state","alert","format_money","amount","decimalCount","decimal","thousands","Math","abs","isNaN","negativeSign","i","parseInt","Number","toFixed","toString","j","length","substr","replace","slice","e","console","log","todayNow","today","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","now","order","customer","firstname","lastname","phone","address","transaction_id","gender","GENDER_MALE","birthday","format","showData","order_detail","total","result","map","item","index","product_title","quantity","product_price","totalPriceQuantity"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport * as config from '../../constants/config';\nimport moment from 'moment'\nimport Button from '@material-ui/core/Button';\nimport Modal from 'react-responsive-modal';\n\nclass InvoiceDetails extends Component {\n\n    constructor (props) {\n        super(props)\n        this.state = {\n            note: this.props.order.note,\n            open: false\n        }\n    }\n    onCloseModal = () => {\n\t\tthis.setState({ open: false });\n    };\n\n    openModal = () => {\n        this.setState({ open: true});\n    }\n\n    onChangeForm = (event) => {\n\t\tvar target = event.target;\n\t\tvar name = target.name;\n\t\tvar value = target.type === 'checkbox'? target.checked:target.value;\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n    }\n    \n    onhandleNoteCustomer = (id) => {\n        var {note} = this.state;\n        alert(id + \" | \" + note);\n        \n    }\n\n    format_money = (amount, decimalCount = 0, decimal = \".\", thousands = \",\") => {\n        try {\n          decimalCount = Math.abs(decimalCount);\n          decimalCount = isNaN(decimalCount) ? 2 : decimalCount;\n      \n          const negativeSign = amount < 0 ? \"-\" : \"\";\n      \n          let i = parseInt(amount = Math.abs(Number(amount) || 0).toFixed(decimalCount)).toString();\n          let j = (i.length > 3) ? i.length % 3 : 0;\n      \n          return negativeSign + (j ? i.substr(0, j) + thousands : '') + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousands) + (decimalCount ? decimal + Math.abs(amount - i).toFixed(decimalCount).slice(2) : \"\");\n        } catch (e) {\n          console.log(e)\n        }\n    };\n    todayNow = () => {\n        var today = new Date();\n        var dd = today.getDate();\n        var mm = today.getMonth() + 1; //January is 0!\n        var yyyy = today.getFullYear();\n        if (dd < 10) {\n        dd = '0' + dd;\n        } \n        if (mm < 10) {\n        mm = '0' + mm;\n        } \n        var now = dd + ' tháng ' + mm + ' năm ' + yyyy;\n        return now;\n    }\n    \n    render() {\n        var {order} = this.props;\n      \n        return (\n            \n                <div className=\"card-body\">\n                    <div className=\"row mb-4\">\n                    <h3 className=\"text-center margin-top20\">  <strong> Phiếu thu </strong> <br/></h3>\n                    <div className=\"card-header text-center\">\n                        Ngày: {this.todayNow()}\n                        <p><strong>Liên 2 giao cho khách hàng </strong> </p>\n                    </div>\n                    <br/>\n                        <div className=\"col-sm-6\">\n                            \n                            <div>\n                                Tên khách hàng: <strong>{order.customer.firstname + ' ' + order.customer.lastname} </strong>\n                            </div>\n                            <div>Điện thoại: {order.customer.phone}</div>\n                            <div>Địa chỉ: {order.customer.address}</div>\n                            <div>Diễn giải: {this.state.note}    \n                                <Button type=\"submit\" className=\"btn btn-primary btn-cons-small margin-left20\" variant=\"fab\" color=\"secondary\" size=\"small\"  onClick={ () => this.openModal(order.id)}>\n                                    <i className=\"material-icons\">create</i>\n                                </Button></div>\n                            \n                        </div>\n                        <div className=\"col-sm-6\">\n                            <div>Mã đơn: <strong>{order.transaction_id}</strong></div>\n                            <div>Thông tin:  {order.customer.gender === config.GENDER_MALE ? 'Nữ' : 'Nam'}  {order.customer.birthday ? \"- \" + moment(order.customer.birthday).format('DD/MM/YYYY ') : ''}</div>\n                        </div>\n                    </div>\n                  \n                    <div className=\"table-responsive-sm margin-top20\">\n                        <table className=\"table \">\n\n                        <thead>\n                            <tr>\n                                <th className=\"text-center\">STT</th>\n                                <th className=\"text-center\">Dịch vụ</th>\n                                <th className=\"text-center\">Số lượng</th>\n                                <th className=\"text-center\">Đơn giá</th>\n                                <th className=\"text-center\">Thành tiền</th>\n                               \n                            </tr>\n                        </thead>\n                            <tbody>\n\n                                {this.showData(order.order_detail)}\n                                <tr>\n                                    <td colSpan=\"4\" className=\"text-left\">\n                                    Cộng\n                                    </td>\n                                    <td className=\"text-right\">{this.format_money(order.total )}</td>\n                                </tr>\n                                <tr>\n                                    <td colSpan=\"5\" className=\"text-left\">\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4\"> Tỉ lệ CK </div>\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4\"> 100% số tiền chiết khấu </div>\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4 text-right\">  </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colSpan=\"5\" className=\"text-left\">\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4\">  </div>\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4\"> Cộng tiền hàng (Đã trừ CK) </div>\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4 text-right\">  </div>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colSpan=\"5\" className=\"text-left\">\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4\">  </div>\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4\"> Tổng tiền thanh toán </div>\n                                        <div className=\"col-md-4 col-sm-4 col-xs-4 text-right\">  </div>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div><p>Số tiền viết bằng chữ: ..................................................................................................................................................................................................................</p></div>\n                   <br/>\n                    <div className=\"row\">\n                        \n                        <div className=\"col-lg-4 col-sm-4 col-xs-4 col-md-4\">\n                            <b>NGƯỜI NỘP TIỀN</b>\n                        </div>\n                        <div className=\"col-lg-4 col-sm-4 col-xs-4 col-md-4\">\n                            <b>NGƯỜI KIỂM SOÁT</b>\n                        </div>\n                        <div className=\"col-lg-4 col-sm-4 col-xs-4 col-md-4 text-center\">\n                            <i>Ngày ..... tháng ..... năm .....</i>\n                            <br/>\n                            <b>NGƯỜI THU TIỀN</b>\n                        </div>\n                    </div>\n                    <Modal open={this.state.open} onClose={this.onCloseModal} center>\n                        <div className=\"form-group\">\n                            <label>Diễn giải</label>\n                            <input \n                                type=\"text\" \n                                className=\"form-control\" \n                                value={this.state.note}\n                                onChange={this.onChangeForm} \n                                name=\"note\" \n                                placeholder=\"Diễn giải\"/>\n                        </div>\n                        <p>\n                          \n                            <Button \n                                className=\"btn btn-primary float-right\" \n                                variant=\"contained\" \n                                color=\"primary\" \n                                onClick={ () => { this.onhandleNoteCustomer(order.id) } }\n                                >Lưu</Button>\n                        </p>\n                    </Modal>\t\n                </div>\n         \n        );\n    }\n\n    showData(order_detail){\n        var result = null;\n\t\tif(order_detail && typeof order_detail !== 'undefined' && order_detail.length > 0){\n\t\t\tresult = order_detail.map((item, index) => {\n\t\t\t\treturn  (<tr key={index}>\n                    <td className=\"text-center\">{index+1}</td>\n                    <td className=\"text-left\">{item.product_title}</td>\n                    <td className=\"text-center\">{item.quantity}</td>\n                    <td className=\"text-center\">{this.format_money(item.product_price)}</td>\n                    <td className=\"text-right\">{this.format_money(item.totalPriceQuantity)}</td>\n                </tr>);\n\t\t\t})\n\t\t\t\n\t\t}\n\t\treturn result;\n       \n    }\n}\n\nexport default InvoiceDetails;"]},"metadata":{},"sourceType":"module"}