{"ast":null,"code":"import _defineProperty from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Volumes/Data/React/react-api/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Volumes/Data/React/react-api/src/pages/Roles/RoleActionPage.js\";\nimport React, { Component } from 'react';\nimport { CSSTransitionGroup } from 'react-transition-group';\nimport Validator from 'react-forms-validator';\nimport { Link } from 'react-router-dom';\nimport * as config from './../../constants/config';\nimport callApi from './../../utils/apiCaller';\nimport Button from '@material-ui/core/Button';\n\nvar RoleActionPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RoleActionPage, _Component);\n\n  function RoleActionPage(props) {\n    var _this;\n\n    _classCallCheck(this, RoleActionPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RoleActionPage).call(this, props));\n    _this.state = {\n      id: '',\n      name: '',\n      display_name: '',\n      description: '',\n      submitted: false,\n      isFormValidationErrors: true\n    };\n    _this.handleFormSubmit = _this.handleFormSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.isValidationError = _this.isValidationError.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeFrom = _this.onChangeFrom.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(RoleActionPage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var match = this.props.match;\n\n      if (match) {\n        var id = match.params.id;\n        callApi('GET', config.ROLE_URL + id, null).then(function (res) {\n          var data = res.data.data;\n          console.log(data);\n\n          _this2.setState({\n            id: data.id,\n            name: data.name ? data.name : '',\n            display_name: data.display_name ? data.display_name : '',\n            description: data.description ? data.description : ''\n          });\n        });\n      }\n    }\n  }, {\n    key: \"onChangeFrom\",\n    value: function onChangeFrom(event) {\n      var target = event.target;\n      var name = target.name;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n      this.setState(_defineProperty({}, name, value));\n    }\n  }, {\n    key: \"isValidationError\",\n    value: function isValidationError(flag) {\n      this.setState({\n        isFormValidationErrors: flag\n      });\n    }\n  }, {\n    key: \"handleFormSubmit\",\n    value: function handleFormSubmit(event) {\n      event.preventDefault();\n      this.setState({\n        submitted: true\n      });\n      var isFormValidationErrors = this.state.isFormValidationErrors;\n\n      if (!isFormValidationErrors) {\n        var history = this.props.history;\n        var _this$state = this.state,\n            id = _this$state.id,\n            name = _this$state.name,\n            description = _this$state.description,\n            display_name = _this$state.display_name;\n        var data = {\n          name: name,\n          description: description,\n          display_name: display_name\n        };\n\n        if (id) {\n          //update\n          callApi('PUT', config.ROLE_URL + id, data).then(function (res) {\n            history.push(\"/role\");\n          });\n        } else {\n          //create\n          callApi('POST', config.ROLE_URL, data).then(function (res) {\n            history.goBack();\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(CSSTransitionGroup, {\n        transitionName: \"worksTransition\",\n        transitionAppear: true,\n        transitionAppearTimeout: 500,\n        transitionEnter: false,\n        transitionLeave: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid simple \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"grid-body no-border\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/role\",\n        className: \"margin-right20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"submit\",\n        className: \"btn btn-primary btn-cons\",\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"arrow_back\"))), React.createElement(\"div\", {\n        className: \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-lg-3 col-sm-3 col-xs-3 col-md-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-lg-6 col-sm-6 col-xs-6 col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        noValidate: true,\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.name,\n        onChange: this.onChangeFrom,\n        name: \"name\",\n        placeholder: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(Validator, {\n        isValidationError: this.isValidationError,\n        isFormSubmitted: this.state.submitted,\n        reference: {\n          name: this.state.name\n        },\n        validationRules: {\n          required: true,\n          maxLength: 50\n        },\n        validationMessages: {\n          required: \"This field is required\",\n          maxLength: \"Not a valid Max length: 10 \"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"display_name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.display_name,\n        onChange: this.onChangeFrom,\n        name: \"display_name\",\n        placeholder: \"display_name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(Validator, {\n        isValidationError: this.isValidationError,\n        isFormSubmitted: this.state.submitted,\n        reference: {\n          display_name: this.state.display_name\n        },\n        validationRules: {\n          required: true\n        },\n        validationMessages: {\n          required: \"This field is required\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"description\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.description,\n        onChange: this.onChangeFrom,\n        name: \"description\",\n        placeholder: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(Validator, {\n        isValidationError: this.isValidationError,\n        isFormSubmitted: this.state.submitted,\n        reference: {\n          description: this.state.description\n        },\n        validationRules: {\n          required: true\n        },\n        validationMessages: {\n          required: \"This field is required\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Save\"))))));\n    } // end render\n\n  }]);\n\n  return RoleActionPage;\n}(Component);\n\nexport default RoleActionPage;","map":{"version":3,"sources":["/Volumes/Data/React/react-api/src/pages/Roles/RoleActionPage.js"],"names":["React","Component","CSSTransitionGroup","Validator","Link","config","callApi","Button","RoleActionPage","props","state","id","name","display_name","description","submitted","isFormValidationErrors","handleFormSubmit","bind","isValidationError","onChangeFrom","match","params","ROLE_URL","then","res","data","console","log","setState","event","target","value","type","checked","flag","preventDefault","history","push","goBack","required","maxLength"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { CSSTransitionGroup } from 'react-transition-group';\nimport Validator from 'react-forms-validator';\nimport { Link } from 'react-router-dom';\nimport * as config from './../../constants/config';\nimport callApi from './../../utils/apiCaller';\nimport Button from '@material-ui/core/Button';\n\nclass RoleActionPage extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tid: '',\n\t\t\tname: '',\n\t\t\tdisplay_name: '',\n\t\t\tdescription: '',\n\t\t\tsubmitted: false,\n\t\t\tisFormValidationErrors : true\n\t\t};\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind(this);\n\t\tthis.isValidationError = this.isValidationError.bind(this);\n\t\tthis.onChangeFrom = this.onChangeFrom.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tvar {match} = this.props;\n\t\tif(match) {\n\t\t\tvar id = match.params.id;\n\t\t\tcallApi('GET', config.ROLE_URL+id, null).then(res => {\n\t\t\t\tvar data = res.data.data;\n\t\t\t\tconsole.log(data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tid: data.id,\n\t\t\t\t\tname: data.name ? data.name : '',\n\t\t\t\t\tdisplay_name: data.display_name ? data.display_name : '',\n\t\t\t\t\tdescription: data.description ? data.description : ''\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tonChangeFrom (event) {\n\t\tvar target = event.target;\n\t\tvar name = target.name;\n\t\tvar value = target.type === 'checkbox'? target.checked:target.value;\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t});\n\t}\n\n\tisValidationError(flag){\n\t\tthis.setState({isFormValidationErrors:flag});\n\t}\n\n\thandleFormSubmit (event) {\n\t\tevent.preventDefault();\n\t\tthis.setState( { submitted:true } );\n\t\tlet { isFormValidationErrors } = this.state;\n\t\tif ( !isFormValidationErrors ){\n\t\t\tvar {history} = this.props;\n\t\t\tvar {id, name, description, display_name} = this.state;\n\t\t\tvar data = { name: name, description: description, display_name };\n\t\t\tif( id ) { //update\n\t\t\t\tcallApi('PUT', config.ROLE_URL + id, data).then( res => {\n\t\t\t\t\thistory.push(\"/role\");\n\t\t\t\t});\n\t\t\t} else { //create\n\t\t\t\tcallApi('POST', config.ROLE_URL, data ).then( res => {\n\t\t\t\t\thistory.goBack();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\n\t\t\t<CSSTransitionGroup transitionName=\"worksTransition\" transitionAppear={true} transitionAppearTimeout={500} transitionEnter={false} transitionLeave={false}>\n\n\t\t\t\t<div className=\"grid simple \">\n\t\t\t\t\t<div className=\"grid-body no-border\">\n\t\t\t\t\t\t<Link to=\"/role\" className=\"margin-right20\">\n\t\t\t\t\t\t\t<Button type=\"submit\" className=\"btn btn-primary btn-cons\" variant=\"contained\" color=\"primary\">\n\t\t\t\t\t\t\t<i className=\"material-icons\">arrow_back</i>\n\t\t\t\t\t\t\t</Button>\t\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"clearfix\"></div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-3 col-xs-3 col-md-3\"></div>\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-6 col-xs-6 col-md-6\">\n\t\t\t\t\t\t\t<form noValidate onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t<label>name</label>\n\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\t\tvalue={this.state.name} \n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeFrom} \n\t\t\t\t\t\t\t\t\t\tname=\"name\" \n\t\t\t\t\t\t\t\t\t\tplaceholder=\"name\"/>\n\t\t\t\t\t\t\t\t\t<Validator \n\t\t\t\t\t\t\t\t\t\tisValidationError={this.isValidationError}\n\t\t\t\t\t\t\t\t\t\tisFormSubmitted={this.state.submitted} \n\t\t\t\t\t\t\t\t\t\treference={{name : this.state.name}}\n\t\t\t\t\t\t\t\t\t\tvalidationRules={{required:true, maxLength:50}} \n\t\t\t\t\t\t\t\t\t\tvalidationMessages={{ required: \"This field is required\", maxLength: \"Not a valid Max length: 10 \"}}/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t<label>display_name</label>\n\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\t\tvalue={this.state.display_name} \n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeFrom} \n\t\t\t\t\t\t\t\t\t\tname=\"display_name\" \n\t\t\t\t\t\t\t\t\t\tplaceholder=\"display_name\"/>\n\t\t\t\t\t\t\t\t\t<Validator \n\t\t\t\t\t\t\t\t\t\tisValidationError={this.isValidationError}\n\t\t\t\t\t\t\t\t\t\tisFormSubmitted={this.state.submitted} \n\t\t\t\t\t\t\t\t\t\treference={{display_name : this.state.display_name}}\n\t\t\t\t\t\t\t\t\t\tvalidationRules={{required:true }} \n\t\t\t\t\t\t\t\t\t\tvalidationMessages={{ required: \"This field is required\"}}/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t\t\t<label>description</label>\n\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control\" \n\t\t\t\t\t\t\t\t\t\tvalue={this.state.description} \n\t\t\t\t\t\t\t\t\t\tonChange={this.onChangeFrom} \n\t\t\t\t\t\t\t\t\t\tname=\"description\" \n\t\t\t\t\t\t\t\t\t\tplaceholder=\"description\"/>\n\t\t\t\t\t\t\t\t\t<Validator \n\t\t\t\t\t\t\t\t\t\tisValidationError={this.isValidationError}\n\t\t\t\t\t\t\t\t\t\tisFormSubmitted={this.state.submitted} \n\t\t\t\t\t\t\t\t\t\treference={{description : this.state.description}}\n\t\t\t\t\t\t\t\t\t\tvalidationRules={{required:true }} \n\t\t\t\t\t\t\t\t\t\tvalidationMessages={{ required: \"This field is required\"}}/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"contained\" color=\"primary\">Save</Button>\n\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</CSSTransitionGroup>\n\t\t);\n\t} // end render\n\n\t\n}\n\nexport default RoleActionPage;\n"]},"metadata":{},"sourceType":"module"}